import NextImage from 'next/image';
import {useState } from 'react';

interface ImageProps {
  src: string,
  alt: string,
  width?: number,
  className?: string | undefined,
}

const imageError = `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMjAwMCA5ODIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNhKSI+CjxyZWN0IHdpZHRoPSIyZTMiIGhlaWdodD0iOTgyIiBmaWxsPSIjMTQxNDE0Ii8+CjxwYXRoIGQ9Ik0yMDAwIC0zMkgwVjk4Mi41MDhIMjAwMFYtMzJaIiBmaWxsPSIjRUIzQjVBIi8+CjxwYXRoIGQ9Im0xODUzLjUgODQ2LjE3aC0zLjYzdjEzNC44aDMuNjN2LTEzNC44eiIgZmlsbD0iIzEyMTIxOSIvPgo8cGF0aCBkPSJtMTg1MS43IDg2NS4yNGMxMC41MyAwIDE5LjA2LTguNTM1IDE5LjA2LTE5LjA2NCAwLTEwLjUyOC04LjUzLTE5LjA2My0xOS4wNi0xOS4wNjNzLTE5LjA3IDguNTM1LTE5LjA3IDE5LjA2M2MwIDEwLjUyOSA4LjU0IDE5LjA2NCAxOS4wNyAxOS4wNjR6IiBmaWxsPSIjMTIxMjE5Ii8+CjxwYXRoIGQ9Im0xODUxLjcgOTI5LjI2cy0yLjczLTU4LjU3NC01OC41NS01MS43NjV6IiBmaWxsPSIjMTIxMjE5Ii8+CjxwYXRoIGQ9Ik04MDEuMTQxIC0zMkwwIDUxOC4wODFWMzkyLjc1M0w2MTguNzE0IC0zMkg4MDEuMTQxWiIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjEiLz4KPHBhdGggZD0iTTQ5OC4xMzQgLTMyTDAgMzA5Ljk4VjE4NC43MjRMMzE1LjY4OCAtMzJINDk4LjEzNFoiIGZpbGw9IiMwMDAiIG9wYWNpdHk9Ii4xIi8+CjxwYXRoIGQ9Ik0xNjkuMzEyIC0zMkwwIDg0LjIzMzdWLTMySDE2OS4zMTJaIiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIuMSIvPgo8cGF0aCBkPSJtMTE1OS43IDk4M2MtNC4zIDAtOC41LTEuMjc1LTEyLjA4LTMuNjY0LTMuNTctMi4zODktNi4zNi01Ljc4NC04LTkuNzU2LTEuNjUtMy45NzMtMi4wOC04LjM0NC0xLjI0LTEyLjU2MXMyLjkxLTguMDkgNS45NS0xMS4xMzFjMy4wNC0zLjA0IDYuOTEtNS4xMSAxMS4xMy01Ljk0OXM4LjU5LTAuNDA5IDEyLjU2IDEuMjM3YzMuOTcgMS42NDUgNy4zNyA0LjQzMiA5Ljc2IDguMDA3czMuNjYgNy43NzggMy42NiAxMi4wNzdjMCA1Ljc2NC0yLjMgMTEuMjktNi4zNyAxNS4zNjUtNC4wOCA0LjA3Ni05LjYgNi4zNjgtMTUuMzcgNi4zNzV6bTAtMzkuODU2Yy0zLjU4IDAtNy4wOCAxLjA2My0xMC4wNiAzLjA1My0yLjk4IDEuOTkxLTUuMyA0LjgyLTYuNjcgOC4xMzEtMS4zOCAzLjMxLTEuNzMgNi45NTItMS4wNCAxMC40NjcgMC43IDMuNTE0IDIuNDMgNi43NDIgNC45NiA5LjI3NiAyLjU0IDIuNTMzIDUuNzYgNC4yNTkgOS4yOCA0Ljk1OCAzLjUxIDAuNjk5IDcuMTUgMC4zNCAxMC40Ny0xLjAzMSAzLjMxLTEuMzcyIDYuMTMtMy42OTQgOC4xMy02LjY3MyAxLjk5LTIuOTc5IDMuMDUtNi40ODIgMy4wNS0xMC4wNjUtMC4wMS00LjgwMy0xLjkyLTkuNDA3LTUuMzEtMTIuODA0LTMuNC0zLjM5Ni04LTUuMzA2LTEyLjgxLTUuMzEyeiIgZmlsbD0iI0YwRjBGMCIvPgo8cGF0aCBkPSJtNDc2LjQ1IDU0My4zaC0zNS43NjN2LTM1Ljc2M2gzNS43NjN2MzUuNzYzem0tMzMuMDEyLTIuNzUxaDMwLjI2MXYtMzAuMjYxaC0zMC4yNjF2MzAuMjYxeiIgZmlsbD0iIzEyMTIxOSIvPgo8cGF0aCBkPSJtMTQzNiA3OTMuNDVsLTI0LjM5LTI2LjE1MyAyNi4xNS0yNC4zOTQgMjQuMzkgMjYuMTUzLTI2LjE1IDI0LjM5NHptLTIwLjUxLTI2LjAxOGwyMC42NCAyMi4xMyAyMi4xMy0yMC42NDEtMjAuNjQtMjIuMTMtMjIuMTMgMjAuNjQxeiIgZmlsbD0iI0YwRjBGMCIvPgo8cGF0aCBkPSJtMmUzIDE3NC41MnY1MTguMTJjLTY4LjcxIDAtMTM0LjYtMjcuMjk0LTE4My4xOC03NS44NzgtNDguNTgtNDguNTgzLTc1Ljg4LTExNC40OC03NS44OC0xODMuMTggMC02OC43MDggMjcuMy0xMzQuNiA3NS44OC0xODMuMTggNDguNTgtNDguNTgzIDExNC40Ny03NS44NzcgMTgzLjE4LTc1Ljg3N3oiIGZpbGw9IiMwMDAiIG9wYWNpdHk9Ii4xIi8+CjxwYXRoIGQ9Im0xNzYwLjkgNDQyLjY0YzExMC4wNiAwIDE5OS4yNy04OS4yMiAxOTkuMjctMTk5LjI4IDAtMTEwLjA2LTg5LjIxLTE5OS4yOC0xOTkuMjctMTk5LjI4cy0xOTkuMjggODkuMjItMTk5LjI4IDE5OS4yOGMwIDExMC4wNiA4OS4yMiAxOTkuMjggMTk5LjI4IDE5OS4yOHoiIGZpbGw9IiMwMDAiIG9wYWNpdHk9Ii4xIi8+CjxwYXRoIGQ9Im0xNTg1LjEgMjI4Ljg3YzU2LjAzIDAgMTAxLjQ1LTQ1LjQyMiAxMDEuNDUtMTAxLjQ1IDAtNTYuMDMtNDUuNDItMTAxLjQ1LTEwMS40NS0xMDEuNDUtNTYuMDIgMC0xMDEuNDQgNDUuNDIxLTEwMS40NCAxMDEuNDUgMCA1Ni4wMjkgNDUuNDIgMTAxLjQ1IDEwMS40NCAxMDEuNDV6IiBmaWxsPSIjMDAwIiBvcGFjaXR5PSIuMSIvPgo8cGF0aCBkPSJtMTU4NS43IDE4MC4wOWMtMTAuNDQgMC0yMC42My0zLjA5NC0yOS4zMS04Ljg5LTguNjctNS43OTYtMTUuNDMtMTQuMDM0LTE5LjQyLTIzLjY3Mi00LTkuNjM4LTUuMDQtMjAuMjQ0LTMuMDEtMzAuNDc2IDIuMDQtMTAuMjMyIDcuMDYtMTkuNjMgMTQuNDQtMjcuMDA3IDcuMzgtNy4zNzY5IDE2Ljc3LTEyLjQwMSAyNy4wMS0xNC40MzYgMTAuMjMtMi4wMzUzIDIwLjgzLTAuOTkwNyAzMC40NyAzLjAwMTZzMTcuODggMTAuNzUzIDIzLjY3IDE5LjQyN2M1LjggOC42NzQxIDguODkgMTguODcyIDguODkgMjkuMzA1LTAuMDEgMTMuOTg0LTUuNTcgMjcuMzkyLTE1LjQ2IDM3LjI4LTkuODkgOS44ODktMjMuMyAxNS40NTEtMzcuMjggMTUuNDY3eiIgZmlsbD0iIzEyMTIxOSIvPgo8cGF0aCBkPSJtOTk2Ljk0IDIzMi42M2MtMTAuNDMzIDAtMjAuNjMxLTMuMDk0LTI5LjMwNS04Ljg5cy0xNS40MzQtMTQuMDM0LTE5LjQyNy0yMy42NzJjLTMuOTkyLTkuNjM4LTUuMDM2LTIwLjI0NC0zLjAwMS0zMC40NzZzNy4wNTktMTkuNjMgMTQuNDM1LTI3LjAwN2M3LjM3Ny03LjM3NyAxNi43NzUtMTIuNDAxIDI3LjAwNy0xNC40MzZzMjAuODQyLTAuOTkxIDMwLjQ3MiAzLjAwMmM5LjY0IDMuOTkyIDE3Ljg4IDEwLjc1MyAyMy42OCAxOS40MjcgNS43OSA4LjY3NCA4Ljg4IDE4Ljg3MiA4Ljg4IDI5LjMwNS0wLjAxIDEzLjk4NC01LjU3IDI3LjM5Mi0xNS40NiAzNy4yOC05Ljg5IDkuODg5LTIzLjMgMTUuNDUxLTM3LjI4MSAxNS40Njd6bTAtMTAxLjQ0Yy05LjYzIDAtMTkuMDQ0IDIuODU2LTI3LjA1MSA4LjIwNi04LjAwNiA1LjM1LTE0LjI0NyAxMi45NTQtMTcuOTMyIDIxLjg1MXMtNC42NDkgMTguNjg3LTIuNzcxIDI4LjEzMmMxLjg3OSA5LjQ0NCA2LjUxNiAxOC4xMiAxMy4zMjUgMjQuOTI5IDYuODEgNi44MSAxNS40ODUgMTEuNDQ3IDI0LjkzIDEzLjMyNiA5LjQ0NSAxLjg3OCAxOS4yMyAwLjkxNCAyOC4xMy0yLjc3MXMxNi41LTkuOTI2IDIxLjg1LTE3LjkzMyA4LjIxLTE3LjQyIDguMjEtMjcuMDVjLTAuMDItMTIuOTA5LTUuMTUtMjUuMjg1LTE0LjI4LTM0LjQxM3MtMjEuNS0xNC4yNjItMzQuNDExLTE0LjI3N3oiIGZpbGw9IiMyRjJFNDEiLz4KPHBhdGggZD0ibTU3Ljk0NiA5MjQuMjVjNy4yNzU5IDAuNDU0IDExLjI5NC04LjYwMSA1Ljc4NzUtMTMuODc1bC0wLjU0ODMtMi4xODFjMC4wNzE5LTAuMTc0IDAuMTQ0LTAuMzQ4IDAuMjE2Ny0wLjUyMSA0LjMzOTEtMTAuMzcgMTYuMjktMTUuMjggMjYuNjY0LTEwLjk4NCAzMi44MDIgMTMuNTgyLTEuODMwMSA0NC43OTQgMC43NzMzIDY1LjkxNCAwLjkxMjUgNy4yODkgMjkuNDIzIDcuNjkgMjcuODExIDE0Ljg0NCAxNS4xNi0zMy4xOTggMjMuMTMyLTY5LjQ0NSAyMy4xMTktMTA1LjktM2UtMyAtOS4xNTgtMC41MDctMTguMzE2LTEuNTMzLTI3LjQ1LTAuODQ1LTcuNDcyLTIuMDA3LTE0Ljg5OC0zLjUxMS0yMi4yNTYtOC4xMzQtMzkuNzczLTI1LjczMS03Ny42NTItNTEuMTA0LTEwOS4yOS0xMi4xOTQtNi42NzEtNC43NTY5LTE3LjEwNy0xMC45MDMtMjkuNjEyLTIuMjA3OS00LjUxLTIxLjg5OC00LjYxMS0yMi43MTgtOS41NTQgMC44ODExIDAuMTE1IDEzLjYwOS0xMy4xMjUgOS40MDQ4LTE5LjY3LTIuNzY2NS00LjMwNy0xLjkwNTQtOS43OTIgMS42NDg2LTEzLjQ3NCAwLjM0ODItMC4zNjEgMC42NzczLTAuNzQyIDAuOTc4OS0xLjE1MSAxMC40OTgtMTQuMjY2IDI0Ljk2OS0xMS43OCAzMi41MyA3LjU5NyAxNi4xNCA4LjE1MiAxNi4zMDIgMjEuNjc5IDYuNDAzNSAzNC42OTMtNi4yOTY3IDguMjgtNy4xNTgzIDE5LjQ4MS0xMi42ODMgMjguMzQ0IDAuNTY5MSAwLjcyOSAxLjE2MDcgMS40MzUgMS43Mjk2IDIuMTY0IDEwLjQzMyAxMy4zOTIgMTkuNDU3IDI3Ljc4NyAyNy4wNjUgNDIuOTEtMi4xNTQtMTYuODEgMS4wMTEtMzcuMDYzIDYuNDE1LTUwLjEyIDYuMTk2LTE0Ljk4NSAxNy44NTQtMjcuNTkgMjguMDY0LTQwLjU1IDEyLjE5NS0xNS40NzkgMzcuMDE1LTguNDU1IDM5LjE3MiAxMS4xNDQgMC4wMjEgMC4xODggMC4wNDEgMC4zNzYgMC4wNjEgMC41NjQtMS41MSAwLjg1NC0yLjk5IDEuNzYxLTQuNDM1IDIuNzE5LTguMjM3IDUuNDYxLTUuMzgyIDE4LjI1MSA0LjM4MSAxOS43NTVsMC4yMjEgMC4wMzRjLTAuNTQ0IDUuNDQ0LTE5LjgzNyAyMi41OTctMjEuMiAyNy45MDYgMTMuMDQ5IDUwLjQ2NyAzLjI4NiA1Ny4xMy0zNi44NTkgNTcuOTc1bC0yLjEwNyAzLjAwNWMzLjgwNSAxMC45NTUgNi44NjYgMjIuMTcyIDkuMTY1IDMzLjUzNCAyLjE2NSAxMC41NDcgMy42NyAyMS4yMDggNC41MTUgMzEuOTE1IDEuMDUxIDEzLjUwOCAwLjk2NSAyNy4wODYtMC4xNjggNDAuNTczbDAuMDY4LTAuNDc5YzIuODgzLTE0Ljg1NCAxMC45MzEtMjguNzMgMjIuNjItMzguMzQ4IDE3LjQxMi0xNC4zMzUgNDIuMDE3LTE5LjYyIDYwLjgwMy0zMS4xNDUgOS4wNDMtNS41NDggMjAuNjM2IDEuNjEzIDE5LjA2MSAxMi4xMTZsLTAuMDc3IDAuNTAzYy0yLjc5NyAxLjE0LTUuNTI2IDIuNDYzLTguMTY0IDMuOTQ0LTEuNTEyIDAuODU1LTIuOTkyIDEuNzYzLTQuNDM5IDIuNzIyLTguMjM3IDUuNDYyLTUuMzgxIDE4LjI1NCA0LjM4NSAxOS43NTJsMC4yMjEgMC4wMzRjMC4xNTkgMC4wMjMgMC4yOTYgMC4wNDUgMC40NTUgMC4wNjgtNC43OTYgMTEuNDE1LTUwLjQ4NiAyNy41MTctNTguODU0IDM2LjY1NS04LjEzNiA0NC4wODEtNC4xMzkgNDIuNzY5LTQxLjU5NCAyOS45NDZoLTAuMDIzYy00LjA4OCAxNy44NjItMTAuMDY0IDM1LjMxNC0xNy43NDcgNTEuOTQ3bC02My40NjIgMC4wMjJjLTAuMjI3OS0wLjcwNi0wLjQzMjgtMS40MzUtMC42Mzc4LTIuMTQxIDUuODY4OCAwLjM2MiAxMS43ODMgMC4wMTggMTcuNTYtMS4wNTQtNC43MTA2LTUuNzg1LTkuNDIxLTExLjYxNS0xNC4xMzItMTcuNC0wLjExMzgtMC4xMTQtMC4yMDQ5LTAuMjI4LTAuMjk1OS0wLjM0MmwtMC4wNzE3LTAuMDg5LTYuNTMzOS0yMS41NGMwLjUxNTctNC43NzkgMS4zNTcyLTkuNTE3IDIuNDk5LTE0LjE4MWwwLjAwMTctMWUtM3oiIGZpbGw9IiNGMkYyRjIiLz4KPHBhdGggZD0ibTEwOTQuOSA2OTcuODdsLTM3NC42OSAwLjEzYy0xOC44MjMgNmUtMyAtMzUuNjg1LTkuNzIxLTQ1LjEwMi0yNi4wMjEtNC43MS04LjE1LTcuMDY1LTE3LjA5MS03LjA2OC0yNi4wMzQtM2UtMyAtOC45NDIgMi4zNDctMTcuODg2IDcuMDUtMjYuMDM5bDE4Ny4yMy0zNDAuODVjOS40MDctMTYuMzA3IDI2LjI2Mi0yNi4wNDUgNDUuMDg1LTI2LjA1MiAxOC44MjQtN2UtMyAzNS42ODYgOS43MiA0NS4xMDQgMjYuMDIxbDE4Ny40OCAzNDAuNzdjNC43IDguMTI5IDcuMDUgMTcuMDU5IDcuMDUgMjUuOTk3IDAgOC45MzctMi4zNSAxNy44OC03LjA1IDI2LjAzNC05LjQxIDE2LjMwNi0yNi4yNiAyNi4wNDUtNDUuMDkgMjYuMDUxem0tNDIyLjE1LTUxLjkzMmMtMWUtMyA4LjE0IDQxLjM0NS05LjQgNDUuNjI5LTEuOTg2IDguNTY4IDE0LjgyOS0xNS4yOTYgNDkuMzU0IDEuODMgNDkuMzQ4IDAgMCA0MDcuMTUtOC45OTUgNDE1LjcxLTIzLjgzIDQuMjctNy40MTcgNi40MS0xNS41NTQgNi40MS0yMy42OSAwLTguMTM1LTIuMTUtMTYuMjY5LTYuNDMtMjMuNjg0bC0xODcuNDktMzQwLjc3Yy04LjU0NC0xNC43ODYtMjMuODgyLTIzLjYzNS00MS4wMDgtMjMuNjI5LTE3LjExOCA2ZS0zIC0yMzQuNjUgMzgwLjEtMjM0LjY1IDM4OC4yNHoiIGZpbGw9IiMxNjE2MTYiLz4KPHBhdGggZD0ibTEzMzEuNSA0MjYuNzdjMCA5NC41MzMtNzYuNjMgMTcxLjE3LTE3MS4xNyAxNzEuMTctOTQuNTMgMC0xNzEuMTYtNzYuNjM0LTE3MS4xNi0xNzEuMTcgMC05NC41MzIgNzYuNjMzLTE3MS4xNyAxNzEuMTYtMTcxLjE3IDk0LjU0IDAgMTcxLjE3IDc2LjYzNCAxNzEuMTcgMTcxLjE3eiIgZmlsbD0iI0Y1MDA1NyIgc3Ryb2tlPSIjMjQyNDI0Ii8+CjxwYXRoIGQ9Im0xMTc1LjYgNTE2LjI0YzAgOC40MjktNi44NCAxNS4yNjItMTUuMjcgMTUuMjYyLTguNDIgMC0xNS4yNi02LjgzMy0xNS4yNi0xNS4yNjIgMC04LjQyOCA2Ljg0LTE1LjI2MSAxNS4yNi0xNS4yNjEgOC40MyAwIDE1LjI3IDYuODMzIDE1LjI3IDE1LjI2MXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzI0MjQyNCIvPgo8cGF0aCBkPSJtMTE1OS44IDMyMS40NmMtMC42OCA0LjUwNi0wLjQ4IDcuMzgxLTAuMDcgMTMuMjIyIDAuMDMgMC40NzggMC4wNiAwLjk3NSAwLjEgMS40OTYgMC40NyA2Ljg4IDEuMTIgMTcuNzQxIDEuMTMgMzguNDY4IDAgMTQuMjA1IDEuMDEgMzAuMDc5IDEuOTUgNDQuNzkyIDAuNDQgNi43ODIgMC44NSAxMy4zMTggMS4xNSAxOS4zMyAwLjQ3IDkuNTQ0IDAuNjMgMTcuNzU5IDAuMDcgMjMuNTgxLTAuMjggMi45MTctMC43MyA1LjE4OC0xLjQgNi43MTYtMC42NyAxLjUzNi0xLjQ3IDIuMTcxLTIuMzggMi4xNzEtMC4zNSAwLTAuOC0wLjI1OS0xLjM1LTEuMDctMC41My0wLjc4OS0xLjA3LTEuOTc5LTEuNjEtMy41NDQtMS4wOC0zLjEyMy0yLjE1LTcuNjE3LTMuMjYtMTMuMDc1LTAuOTQtNC42MTMtMS45Mi05Ljg5Ni0yLjk3LTE1LjU5NS0wLjE5LTEuMDM4LTAuMzgtMi4wODktMC41OC0zLjE1My0xLjI4LTYuOTA0LTIuNjctMTQuMzItNC4yNi0yMS44MTctMy4xNi0xNC45ODctNy4wOS0zMC4zMjUtMTIuMzQtNDIuNTYtNS4yNS0xMi4xOTktMTEuODgtMjEuNDc3LTIwLjU2LTI0LjA4Ny00LjkyLTEuNDc5LTcuNjgtMy40MjktOC45LTUuNTYxLTEuMi0yLjA5OC0wLjk2LTQuNSAwLjQ1LTcuMDg5IDEuNDEtMi41OTggMy45Ny01LjMxNiA3LjI4LTcuOTM4IDMuMy0yLjYxNyA3LjMyLTUuMTE2IDExLjYyLTcuMjg0IDguNjItNC4zNDMgMTguMjktNy4zMiAyNS40Ny03LjI5NyAzLjU5IDAuMDExIDYuNDggMC43NzQgOC4zMiAyLjM5OCAxLjgxIDEuNTk3IDIuNzEgNC4xMTggMi4xNCA3Ljg5NnoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzI0MjQyNCIvPgo8cGF0aCBkPSJtODY0LjExIDUxMC4xNmwtMTUuNTI2IDMyLjg0YzE4Ljc3LTEzLjQ3NCA0OC4wODktMjUuMDg4IDcxLjQyLTMxLjMwOS0yMS43MzktMTAuNTExLTQ4LjMzOS0yNy40NTgtNjQuMjMtNDQuMjM3bDguOTMgMzQuNjk5Yy0xMDQuNy0yMS4zNDctMTc5Ljg5LTEwMS43NS0xNzkuOTItMTkzLjg1bC0zLjc4Mi0xLjMwMmMwLjAzMyA5Ni4yMDIgNzQuMTggMTgxLjM2IDE4My4xMSAyMDMuMTZ2LTFlLTN6IiBmaWxsPSIjMTYxNjE2Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iYSI+CjxyZWN0IHdpZHRoPSIyZTMiIGhlaWdodD0iOTgyIiBmaWxsPSIjZmZmIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+`;

const Image = ({src, alt, width, className}: ImageProps) => {

  const [currentSrc, setCurrentSrc] = useState(src);

  return(
    <div style={{width: '100%', height: '100%', position: 'relative'}}>
     <NextImage 
      src={currentSrc}
      alt={alt}
      layout='fill'
      width={width ? width : '100vw'}
      className={className}
      onError={() => setCurrentSrc(imageError)}
    />
    </div>
  )
};

export default Image;